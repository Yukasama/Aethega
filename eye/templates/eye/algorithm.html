{% extends "home/index.html" %}
{% block content %}
{% load static %}

<link rel="stylesheet" href="{% static 'eye/css/algorithm.css' %}">

<div class="algorithm view grid_system">
  <div class="algorithm_buttons view_item"></div>
  <div class="algorithm_graph view_item">
    <canvas class="algorithm_canvas"></canvas>
  </div>
  <div class="algorithm_list view_item"></div>
  <div class="algorithm_performance view_item"></div>
  <div class="algorithm_control view_item"></div>
</div>


<script>
  const rsi = JSON.parse("{{RSI|safe}}");
  const wpr = JSON.parse("{{WPR|safe}}");
  const history = JSON.parse("{{history|safe}}");

  const algorithm_canvas = document.querySelector(".algorithm_canvas").getContext("2d");
  const algorithm_canvas1 = new Chart(algorithm_canvas, {
    type: "line",
    data: {
      datasets: [{
        label: "RSI",
        data: rsi,
        backgroundColor: "rgb(0, 110, 255)",
        borderColor: "rgb(0, 110, 255)",
      }, {
        label: "WPR",
        data: wpr,
        backgroundColor: "red",
        borderColor: "red",
      }, {
        label: "Price",
        data: history,
        backgroundColor: "yellow",
        borderColor: "yellow",
      }
    ],},
    options: chartConfig(),
  });
</script>

{% endblock %}