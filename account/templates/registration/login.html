{% extends 'home/base.html' %}
{% block head %}

{% load static %}

<link rel="stylesheet" href="{% static 'account/css/login.css' %}">

{% if user.is_authenticated %}
<div class="message_field flex">
  <p class="message_text">You are logged in already.</p>
  <button class="icon_button transition">
    <i class="fa-solid fa-arrow-right-to-bracket portfolio_icon"></i>
    <a href="{% url 'home' %}">Back</a>
  </button> 
</div>

{% else %}
<div class="login flex">
  <form method="POST" class="login_form flex">
    {% csrf_token %}
    <div class="arrow_back flex">
      <i class="fa-solid fa-arrow-left-long"></i>
      <a href="{{request.META.HTTP_REFERER}}"></a>
    </div>
    <div class="arrow_back home_back flex">
      <i class="fa-solid fa-home"></i>
      <a href="{% url 'home' %}"></a>
    </div>
    <h1 class="login_header">Login</h1>
    <div class="inputField">
      <i class="fa-solid fa-user"></i>
      <input type="text" name="userauth" class="input username_input" placeholder="Username/E-Mail" required>
    </div>
    <div class="inputField">
      <i class="fa-solid fa-key"></i>
      <input type="password" name="password" class="input password_input" placeholder="Password" required>
    </div>
    <p class="forgot_password">Forgot Password?</p>
    <button type="submit" class="icon_button login_button">
      <i class="fa-solid fa-arrow-right-to-bracket portfolio_icon"></i>
      <a>Login</a>
    </button>
    <p class="login_redirect">Don't have an account? <a class="login_link" href="{% url 'signup' %}">Sign Up</a></p>

    {% if messages %}
    <ul class="messages">
      {% for message in messages %}
      <li>{{message}}</li>
      {% endfor %}
    </ul>
    {% endif %}
  </form>
</div>
{% endif %}


{% endblock %}